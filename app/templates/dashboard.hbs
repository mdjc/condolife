<div class="container">
    <div class="row">
        <div class="col-xs-8">
            <h1>Building {{model.b.name}}</h1>
            <h3>Managed by: {{model.b.manager.name}}</h3>
        </div>
        <div class="col-xs-4 text-right">
                <p><strong>Apartments: </strong>{{model.bs.stats.apartmentCount}}</p>
                <p><strong>Residents: </strong>{{model.bs.stats.residentCount}}</p>
        </div>
    </div>

    <div class="row">
        <div class="col-xs-12">
            <p class="big-text">Account Balance: <strong> {{pesos model.bs.stats.balance}}</strong></p>
        </div>
    </div>

    <div class="monthly-balance">
    <div class="row">
        <div class="col-xs-12">
            <h3 class='header-with-divider'><strong>Monthly Balance</strong></h3>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 col-sm-6">
            <h4>
                <strong>Collected:</strong> {{pesos model.ps.stats.validatedPaymentTotal}}
                in <strong>{{model.ps.stats.validatedPaymentCount}}</strong> apartment(s) 
            </h4>            
        </div>
        <div class="col-xs-12 col-sm-6">
            <h4><strong>Spent: </strong>{{model.os.stats.amount}}</h4>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12">
            {{#if model.ps.stats.pendingPaymentCount}}
                <button class="btn btn-warning" type="button">
                    Pending: <span class="badge">{{model.ps.stats.pendingPaymentCount}}</span>
                </button>
            {{/if}}
            {{#if model.ps.stats.rejectedPaymentCount}}
                <button class="btn btn-danger" type="button">
                    Rejected: <span class="badge">{{model.ps.stats.rejectedPaymentCount}}</span>
                </button>
            {{/if}}
        </div>
    </div>

    </div>

    <div class="row">
        <div class='col-xs-12 col-sm-6'>    
            <div class="panel panel-info">
                <div class="panel-heading">Latest Payments</div>  
                <div class="panel-body">
                    {{#unless model.payments.length}}
                        <div class='summary'>
                            No new payments this month
                        </div>
                    {{/unless}}

                    {{#each model.payments as |payment|}}
                        <div class='summary'>
                            Apt. {{payment.apartment.name}}, by {{payment.createdBy.name}} -
                            <strong>{{pesos payment.amount}} 
                            on {{payment.createdOn.month}} {{payment.createdOn.dayOfMonth}}, 
                            {{payment.method}}</strong>({{payment.status}})
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>

        <div class='col-xs-12 col-sm-6'>    
            <div class="panel panel-info">
                <div class="panel-heading">Latest Outlays</div>  
                <div class="panel-body">
                    {{#unless model.outlays.length}}
                        <div class='summary'>
                            No new outlays this month
                        </div>
                    {{/unless}}

                    {{#each model.outlays as |outlay|}}
                        <div class='summary'>
                            {{outlay.category}}, <strong>{{pesos outlay.amount}}</strong>
                            on {{outlay.createdOn.month}} {{outlay.createdOn.dayOfMonth}},
                            {{#if outlay.comment}}
                                ({{outlay.comment}})
                            {{/if}}
                        </div>
                    {{/each}}
                </div>
            </div>
        </div>
    </div>
       
</div>
{{outlet}}
